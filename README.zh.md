# Anamnesis

[English](./README.md) | [中文]

---

## **1. 产品愿景与概述**

**产品名称：** Anamnesis  
**核心理念：** 一个纯粹的、用户主权至上的 Web3 永久存储保险箱。其名称源于柏拉图哲学中的“灵魂回忆说”，寓意此工具帮助用户的数字灵魂找回并永久守护那些本应永恒的记忆与数据。  
**产品定位：** 一个纯前端的应用，作为一个安全的“账户与数据金库”。它允许用户管理多链账户，并自由选择将文件**永久刻录**在 Arweave 公链上，或**私密封存**在 Irys 存储网络。

## **2. 核心功能详情**

### **2.1 智能多链账户管理**

- **多生态兼容**：全面支持 **Ethereum (EVM), Bitcoin (Taproot/SegWit), Solana, Sui, 以及 Arweave**。
- **智能识别导入**：导入私钥、助记词或 Arweave JWK 文件时，系统会自动识别对应的链类型，无需手动选择。
- **主密码保护机制**：所有敏感数据（私钥、助记词）均在本地通过 **PBKDF2** 进行密钥派生，并使用 **XChaCha20-Poly1305** 算法进行高强度加密。
- **外部钱包集成**：支持连接 **MetaMask, Phantom, Sui Wallet** 等主流浏览器插件钱包。
- **资产概览**：直接从链上节点获取所有已管理账户的实时余额。

### **2.2 隐私优先的永恒网存储**

- **端到端加密 (E2EE)**：文件及其元数据（如文件名）在离开浏览器前，使用主密码派生的密钥在本地完成加密。
- **灵活的存储协议**：
  - **Arweave 原生**：直接与 Arweave 网络交互，实现真正的、不可篡改的永久存储。
  - **Irys 网络**：提供高性能、高并发的存储能力，支持多币种支付（如使用 ETH/MATIC 支付永久存储费用）。
- **元数据遮蔽**：链上数据完全隐私化，外部观察者无法通过链上交易获知原始文件名或文件类型。

### **2.3 数据金库与检索**

- **统一控制面板**：在一个直观的界面管理所有跨协议、跨账户的上传历史记录。
- **链上实时同步**：直接从区块链网关同步交易历史，确保完全不依赖任何中心化数据库。
- **一键本地解密**：支持一键解密并下载私密文件。解密密钥仅存在于浏览器内存中，绝不触网。

## **3. 安全架构**

- **零知识 (Zero-Knowledge) 设计**：无服务器，无后端数据库，无追踪。浏览器是唯一的未加密数据处理环境。
- **本地金库隔离**：数据基于主密码进行“金库”化隔离，支持为不同用途创建独立的隐藏分区。
- **防暴力破解**：采用高迭代次数的 PBKDF2 算法，即使本地存储文件被盗，也能有效抵御离线破解尝试。
- **敏感操作二次确认**：查看私钥或助记词等极端敏感信息时，强制要求重新进行身份验证。

## **4. 技术栈**

- **前端**: React 19 + Vite 7 + Tailwind CSS 4 + Shadcn/UI
- **存储相关**: `arweave-js`, `@irys/sdk`
- **加密方案**: `libsodium-wrappers`, Web Crypto API (PBKDF2)
- **本地数据库**: `dexie` (IndexedDB 封装，用于安全存储本地数据)
- **区块链集成**: `ethers`, `bitcoinjs-lib`, `@solana/web3.js`, `@mysten/sui`, `bip39`, `bip32`, `viem`, `wagmi`
- **工程化规范**: `oxlint`, `prettier`

## **5. 工程化与 CI/CD**

- **自动化工作流**: 基于 GitHub Actions。
  - **CI**: 每次 PR 或推送到 `main` 分支都会自动触发代码静态检查、格式校验、类型检查以及构建测试。
  - **CD**: 合并到 `main` 分支后，自动部署到 **GitHub Pages**。
- **开发规范**: 提供 `.editorconfig` 配置，确保团队协作时编辑器表现一致。

## **6. 快速开始**

### **安装依赖**

```bash
pnpm install
```

### **启动开发环境**

```bash
pnpm dev
```

### **代码质量检查**

```bash
# 静态检查
pnpm run lint

# 格式检查
pnpm exec prettier --check .
```

### **生产环境构建**

```bash
pnpm run build
```

## **7. 开源协议**

本项目采用 **AGPL-3.0 协议** 开源。详见 [LICENSE](./LICENSE) 文件。

---

**Anamnesis — 为永恒网 (Permaweb) 精心打造。**
